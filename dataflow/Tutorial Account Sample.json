{
	"name": "Tutorial Account Sample",
	"properties": {
		"type": "MappingDataFlow",
		"typeProperties": {
			"sources": [
				{
					"linkedService": {
						"referenceName": "sandbox",
						"type": "LinkedServiceReference"
					},
					"name": "accountsample"
				}
			],
			"sinks": [
				{
					"name": "trainingaccount"
				}
			],
			"transformations": [
				{
					"name": "alterRow1"
				}
			],
			"scriptLines": [
				"source(allowSchemaDrift: true,",
				"     validateSchema: false,",
				"     store: 'dynamics',",
				"     format: 'dynamicsformat',",
				"     entity: 'account',",
				"     timeout: 30,",
				"     query: '<fetch version=\"1.0\" output-format=\"xml-platform\" mapping=\"logical\" no-lock=\"false\" distinct=\"true\"><entity name=\"account\"><attribute name=\"entityimage_url\"/><attribute name=\"parentaccountid\"/><attribute name=\"name\"/><attribute name=\"address1_city\"/><order attribute=\"name\" descending=\"false\"/><attribute name=\"primarycontactid\"/><attribute name=\"telephone1\"/><filter type=\"and\"><condition attribute=\"statecode\" operator=\"eq\" value=\"0\"/><condition attribute=\"accountid\" operator=\"eq\" value=\"{4b66761c-0758-ed11-9562-0022489b74fe}\" uiname=\"Peter Company\" uitype=\"account\"/></filter><link-entity alias=\"accountprimarycontactidcontactcontactid\" name=\"contact\" from=\"contactid\" to=\"primarycontactid\" link-type=\"outer\" visible=\"false\"><attribute name=\"emailaddress1\"/></link-entity><attribute name=\"accountcategorycode\"/><attribute name=\"accountid\"/></entity></fetch>') ~> accountsample",
				"accountsample alterRow(upsertIf(true())) ~> alterRow1",
				"alterRow1 sink(allowSchemaDrift: true,",
				"     validateSchema: false,",
				"     skipDuplicateMapInputs: true,",
				"     skipDuplicateMapOutputs: true,",
				"     store: 'dynamics',",
				"     format: 'dynamicsformat',",
				"     entity: 'account') ~> trainingaccount"
			]
		}
	}
}